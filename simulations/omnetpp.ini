[General]
network = ZrpTestNetwork
sim-time-limit = 100s

# Disable static routes - we want ZRP to handle routing
*.configurator.addStaticRoutes = false
**.netmaskRoutes = ""

# Use GlobalArp to avoid ARP issues during testing
**.arp.typename = "GlobalArp"

#############################
# Radio/Wireless Settings
#############################
**.wlan[*].bitrate = 24Mbps

# Transmitter power - adjust this to change communication range
# Higher power = larger range. Try: 0.5mW (~50m), 1mW (~70m), 2mW (~100m), 5mW (~150m)
**.transmitter.power = 1mW

# Display communication ranges as circles around each node
**.displayCommunicationRanges = true

# Optional: also show interference ranges (larger circles)
#**.displayInterferenceRanges = true

# Constraint area for mobility
**.constraintAreaMaxX = 400m
**.constraintAreaMaxY = 400m
**.constraintAreaMinX = 0m
**.constraintAreaMinY = 0m

#############################
# ZRP Configuration
#############################

# Install ZRP as the routing app on all nodes
*.*.numApps = 1
*.*.app[0].typename = "sa_zrp.Zrp"

# ZRP parameters
*.*.app[0].zoneRadius = 1
*.*.app[0].NDP_helloInterval = 1s
*.*.app[0].IARP_updateInterval = 2s
*.*.app[0].linkStateLifetime = 5s
*.*.app[0].interface = "wlan0"
*.*.app[0].debugInterval = 5s

#############################
# Ping Application (source only)
#############################

# Source node gets an additional ping app
*.source.numApps = 2
*.source.app[1].typename = "PingApp"
*.source.app[1].destAddr = "destination"
*.source.app[1].startTime = 10s  # Wait for ZRP to establish routes
*.source.app[1].sendInterval = 1s
*.source.app[1].printPing = true

#############################
# Visualization
#############################

# Data link visualizer
*.visualizer.*.numDataLinkVisualizers = 3
*.visualizer.*.dataLinkVisualizer[*].activityLevel = "peer"
*.visualizer.*.dataLinkVisualizer[*].displayLinks = true

# NDP Hello packets (green)
*.visualizer.*.dataLinkVisualizer[0].packetFilter = "NDP_Hello"
*.visualizer.*.dataLinkVisualizer[0].*Color = "green"

# IARP updates (orange)  
*.visualizer.*.dataLinkVisualizer[1].packetFilter = "IARP_LinkStateUpdate"
*.visualizer.*.dataLinkVisualizer[1].*Color = "orange"

# Ping traffic (blue)
*.visualizer.*.dataLinkVisualizer[2].packetFilter = "ping*"
*.visualizer.*.dataLinkVisualizer[2].*Color = "blue"

# Network route visualizer (show ping routes)
*.visualizer.*.networkRouteVisualizer[0].displayRoutes = true
*.visualizer.*.networkRouteVisualizer[0].packetFilter = "*ping*"

# Routing table visualizer
*.visualizer.*.routingTableVisualizer[0].displayRoutingTables = true
*.visualizer.*.routingTableVisualizer[0].displayLabels = false
*.visualizer.*.routingTableVisualizer[0].displayRoutesIndividually = false
*.visualizer.*.routingTableVisualizer[0].lineShift = 0

# Interface table visualizer (shows IP addresses)
*.visualizer.*.interfaceTableVisualizer[0].displayInterfaceTables = true
*.visualizer.*.interfaceTableVisualizer[0].format = "%a/%l"

# Medium visualizer - shows signal transmissions
*.visualizer.*.mediumVisualizer[0].displaySignals = true
*.visualizer.*.mediumVisualizer[0].signalPropagationAnimationSpeed = 500

# Info visualizer - display module info as labels
*.visualizer.*.infoVisualizer[0].displayInfos = true
*.visualizer.*.infoVisualizer[0].modules = "*.*.app[0]"
*.visualizer.*.infoVisualizer[0].format = "N:%p, Z:%t"  # Neighbors, Zone nodes
# Note: %p and %t are placeholders - we'll use submodule display string instead

#############################
# Stationary Test Config
#############################
[Config Stationary]
description = "Static nodes - basic ZRP functionality test"
# Nodes don't move, just test basic IARP route establishment

#############################
# Mobile Test Config  
#############################
[Config Mobile]
description = "Mobile nodes - ZRP with node mobility"
network = ZrpMobileTestNetwork

# Node movement
*.node*.mobility.typename = "LinearMobility"
*.node*.mobility.initialMovementHeading = uniform(0deg, 360deg)
*.node*.mobility.speed = 10mps

# Longer ping wait time since routes may change
*.source.app[1].startTime = 15s

#############################
# Debug Config
#############################
[Config Debug]
description = "Verbose logging for debugging"

# Enable detailed logging
**.app[0].*.cmdenv-log-level = detail
cmdenv-express-mode = false

# Slower simulation for observation
*.source.app[1].startTime = 20s
*.source.app[1].sendInterval = 2s