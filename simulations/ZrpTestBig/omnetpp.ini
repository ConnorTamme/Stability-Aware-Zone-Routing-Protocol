[General]
network = ZrpTestNetworkBig
sim-time-limit = 100s

# Disable static routes - we want ZRP to handle routing
*.configurator.addStaticRoutes = false
**.netmaskRoutes = ""

# Use GlobalArp to avoid ARP issues during testing
**.arp.typename = "GlobalArp"

#############################
# Radio/Wireless Settings
#############################
**.wlan[*].bitrate = 24Mbps

# Transmitter power - adjust this to change communication range
# Higher power = larger range. Try: 0.5mW (~50m), 1mW (~70m), 2mW (~100m), 5mW (~150m)
**.transmitter.power = 1mW

# Display communication ranges as circles around each node
**.displayCommunicationRanges = true

# Optional: also show interference ranges (larger circles)
#**.displayInterferenceRanges = true

#############################
# Ping Application (source only)
#############################

# Source node: app[0]=PingApp, app[1]=ZRP (ping must be app[0] for NED @statistic)
*.source.numApps = 2
*.source.app[0].typename = "PingApp"
*.source.app[0].destAddr = "destination"
*.source.app[0].startTime = 10s  # Wait for ZRP to establish routes
*.source.app[0].sendInterval = 1s
*.source.app[0].printPing = true
*.source.app[1].typename = "sa_zrp.Zrp"

#############################
# ZRP Configuration
#############################

# Install ZRP as the routing app on all non-source nodes
*.destination.numApps = 1
*.destination.app[0].typename = "sa_zrp.Zrp"
*.node*.numApps = 1
*.node*.app[0].typename = "sa_zrp.Zrp"

# ZRP parameters (apply to all ZRP instances regardless of app index)
**.app[*].zoneRadius = 2
**.app[*].NDP_helloInterval = 1s
**.app[*].IARP_updateInterval = 2s
**.app[*].linkStateLifetime = 5s
**.app[*].interface = "wlan0"
**.app[*].debugInterval = 5s

#############################
# Visualization
#############################

# Data link visualizer
*.visualizer.*.numDataLinkVisualizers = 3
*.visualizer.*.dataLinkVisualizer[*].activityLevel = "peer"
*.visualizer.*.dataLinkVisualizer[*].displayLinks = true

# NDP Hello packets (green)
*.visualizer.*.dataLinkVisualizer[0].packetFilter = "NDP_Hello"
*.visualizer.*.dataLinkVisualizer[0].*Color = "green"

# IARP updates (orange)  
*.visualizer.*.dataLinkVisualizer[1].packetFilter = "IARP_LinkStateUpdate"
*.visualizer.*.dataLinkVisualizer[1].*Color = "orange"

# Ping traffic (blue)
*.visualizer.*.dataLinkVisualizer[2].packetFilter = "ping*"
*.visualizer.*.dataLinkVisualizer[2].*Color = "blue"

# Network route visualizer (show ping routes)
*.visualizer.*.networkRouteVisualizer[0].displayRoutes = true
*.visualizer.*.networkRouteVisualizer[0].packetFilter = "*ping*"

# Routing table visualizer (source node only, like MANET showcase)
*.visualizer.*.routingTableVisualizer[0].displayRoutingTables = true
*.visualizer.*.routingTableVisualizer[0].displayLabels = false
*.visualizer.*.routingTableVisualizer[0].displayRoutesIndividually = false
*.visualizer.*.routingTableVisualizer[0].lineShift = 0

# Interface table visualizer (shows IP addresses)
*.visualizer.*.interfaceTableVisualizer[0].displayInterfaceTables = true
*.visualizer.*.interfaceTableVisualizer[0].format = "%a/%l"

# Medium visualizer - shows signal transmissions
*.visualizer.*.mediumVisualizer[0].displaySignals = true
*.visualizer.*.mediumVisualizer[0].signalPropagationAnimationSpeed = 500

# Info visualizer - display module info as labels
*.visualizer.*.infoVisualizer[0].displayInfos = true
*.visualizer.*.infoVisualizer[0].modules = "*.*.app[0]"
*.visualizer.*.infoVisualizer[0].format = "N:%p, Z:%t"  # Neighbors, Zone nodes
# Note: %p and %t are placeholders - we'll use submodule display string instead

#############################
# Debug Config
#############################
[Config Debug]
description = "Verbose logging for debugging"

# Enable detailed logging
**.app[*].*.cmdenv-log-level = detail
cmdenv-express-mode = false

# Slower simulation for observation
*.source.app[0].startTime = 20s
*.source.app[0].sendInterval = 2s